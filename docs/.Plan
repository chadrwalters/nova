# Nova Pipeline Debug Plan

## Current State Analysis
- Pipeline is not completing successfully
- Need to verify input/output directories and processing
- Need to check each phase of the pipeline

## Tasks

### 1.0 Environment Setup Verification
- **ID:** 1.1
  **Description:** Verify all environment variables in .env are correctly set and directories exist
  **Status:** TODO
  **Dependencies:** None

- **ID:** 1.2
  **Description:** Check permissions and access to all directories
  **Status:** TODO
  **Dependencies:** 1.1

### 2.0 Input Directory Validation
- **ID:** 2.1
  **Description:** Verify input directory contains markdown files to process
  **Status:** TODO
  **Dependencies:** 1.0

- **ID:** 2.2
  **Description:** Check input file formats and encoding
  **Status:** TODO
  **Dependencies:** 2.1

### 3.0 Pipeline Phase Verification
- **ID:** 3.1
  **Description:** Test MARKDOWN_PARSE phase in isolation
  **Status:** TODO
  **Dependencies:** 2.0

- **ID:** 3.2
  **Description:** Test MARKDOWN_CONSOLIDATE phase
  **Status:** TODO
  **Dependencies:** 3.1

- **ID:** 3.3
  **Description:** Test MARKDOWN_AGGREGATE phase
  **Status:** TODO
  **Dependencies:** 3.2

- **ID:** 3.4
  **Description:** Test MARKDOWN_SPLIT_THREEFILES phase
  **Status:** TODO
  **Dependencies:** 3.3

### 4.0 Dependency Verification
- **ID:** 4.1
  **Description:** Verify all required Python packages are installed and at correct versions
  **Status:** TODO
  **Dependencies:** None

- **ID:** 4.2
  **Description:** Check system dependencies (imagemagick, ghostscript, etc.)
  **Status:** TODO
  **Dependencies:** 4.1

### 5.0 Error Handling and Logging
- **ID:** 5.1
  **Description:** Implement better error logging in pipeline phases
  **Status:** TODO
  **Dependencies:** 3.0

- **ID:** 5.2
  **Description:** Add debug logging for file processing steps
  **Status:** TODO
  **Dependencies:** 5.1

## Next Steps
1. Begin with Task 1.1 to verify environment setup
2. Run cleanup.sh to ensure clean state
3. Test each phase individually
4. Implement fixes as issues are identified

## Progress Tracking
- [ ] Environment verification complete
- [ ] Input validation complete
- [ ] Phase testing complete
- [ ] Dependencies verified
- [ ] Error handling improved
